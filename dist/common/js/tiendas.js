/*! stores - v1.3.2 */
"use strict";import{Stores,Store,log}from"./stores/index.js";(async(e,t,r)=>{try{const a=new Stores(r),n=e.querySelector(".cities-menu"),o=e.querySelector(".cities-menu--mobile"),i=e.querySelector("#stores"),s=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);s&&await async function(){const t=e.createElement("script");t.type="text/javascript",t.src="https://cdn.jsdelivr.net/gh/ux-alkosto/stores/dist/common/js/jquery.nice-select.js",t.crossorigin="anonymus",e.getElementsByTagName("head")[0].appendChild(t)}(),await a.stores.then(({ciudades:r})=>{i.innerHTML="";let a=0;Object.entries(r).map(([t,s]=r)=>{const c=e.createRange().createContextualFragment(function(e="",t=""){return`<li role="presentation">\n\t\t\t\t\t<a href="#${e}" aria-controls="${e}" role="tab" data-toggle="tab">${t}</a>\n\t\t\t\t</li>`}(t,s.label)),l=new Option(s.label,t);n.append(c),o.append(l),Object.values(s.tiendas).map(async r=>{const n=new Store({address:r.direccion,city:s.label,howToGet:r.como_llegar,order:a,label:t,link:r.ir,external:r.externo,name:r.nombre_tienda,schedule:r.horario_apertura});a++,i.append(e.createRange().createContextualFragment(await n.render()))})}),n.querySelectorAll("li > a").forEach(t=>{t.addEventListener("click",r=>{r.preventDefault(),e.querySelector(".cities-menu > li.active").classList.remove("active"),r.currentTarget.closest("li").classList.add("active");const a=t.getAttribute("href").replace("#","");a?(e.querySelectorAll(`.store:not([data-city~=${a}])`).forEach(e=>e.style.display="none"),e.querySelectorAll(`.store[data-city~=${a}]`).forEach(e=>e.style.display="grid")):e.querySelectorAll(".store").forEach(e=>e.style.display="none")})}),s&&t("document").ready(function(){t(o).niceSelect().change(function(){t(this).find("option:selected").each(function(){const e=t(this).attr("value");e?(t(".store").not("[data-city~="+e+"]").hide(),t("[data-city~="+e+"]").css({display:"grid"})):t(".store").hide()})})})})}catch(e){log(e,"error")}})(document,window.jQuery,storesJsonFile);